<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <input type="text" id="searchInput" placeholder="Search products..." />

  <div id="resultsContainer"></div>


  <script>

      const cart = [
        {
          id: "e43638ce-6aa0-4b85-b27f-e1d07eb678c6",
          image: "images/products/athletic-cotton-socks-6-pairs.jpg",
          name: "Black and Gray Athletic Cotton Socks - 6 Pairs",
          rating: { stars: 4.5, count: 87 },
          priceCents: 1090,
          keywords: ["socks", "sports", "apparel"]
        },
        {
          id: "15b6fc6f-327a-4ec4-896f-486349e85a3d",
          image: "images/products/intermediate-composite-basketball.jpg",
          name: "Intermediate Size Basketball",
          rating: { stars: 4, count: 127 },
          priceCents: 2095,
          keywords: ["sports", "basketballs"]
        },
        {
          id: "83d4ca15-0f35-48f5-b7a3-1ea210004f2e",
          image: "images/products/adults-plain-cotton-tshirt-2-pack-teal.jpg",
          name: "Adults Plain Cotton T-Shirt - 2 Pack",
          rating: { stars: 4.5, count: 56 },
          priceCents: 799,
          keywords: ["tshirts", "apparel", "mens"],
          type: "clothing",
          sizeChartLink: "images/clothing-size-chart.png"
        }
      ];

      // Convert price to readable format
      function formatPrice(priceCents) {
        return "TSh " + (priceCents / 100).toLocaleString();
      }

      // Function to display filtered products
      function displayResults(products) {
        const resultsContainer = document.getElementById("resultsContainer");
        resultsContainer.innerHTML = ""; // clear previous results

        if (products.length === 0) {
          resultsContainer.innerHTML = "<p>No products found.</p>";
          return;
        }

        products.forEach(product => {
          const productHTML = `
            <div style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">
              <img src="${product.image}" width="100" alt="${product.name}" />
              <h4>${product.name}</h4>
              <p>${formatPrice(product.priceCents)}</p>
              <p>Rating: ${product.rating.stars} stars (${product.rating.count} reviews)</p>
            </div>
          `;
          resultsContainer.innerHTML += productHTML;
        });
      }

      // Function to filter products based on search input
      function filterProducts(query) {
        const lowerQuery = query.toLowerCase();

        return cart.filter(product => {
          const nameMatch = product.name.toLowerCase().includes(lowerQuery);
          const keywordsMatch = product.keywords.some(keyword =>
            keyword.toLowerCase().includes(lowerQuery)
          );
          return nameMatch || keywordsMatch;
        });
      }

      // Real-time search event
      document.getElementById("searchInput").addEventListener("input", function () {
        const query = this.value;
        const filtered = filterProducts(query);
        displayResults(filtered);
      });

      // On load, show all products
      displayResults(cart);

  </script>
</body>
</html>